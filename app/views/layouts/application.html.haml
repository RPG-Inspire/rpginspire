!!!
%html
  %head
    %script
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', '#{ga_code}', 'auto');
      ga('send', 'pageview');
    %script(async=true src='https://www.google-analytics.com/analytics.js')

    = csrf_meta_tags
    = csp_meta_tag
    = display_meta_tags site: 'RPG Inspire'
    %meta{:content => "width=device-width, initial-scale=1", :name => "viewport"}/
    = stylesheet_link_tag 'application', media: 'all'
  %body
    %navbar.navbar.is-black{role: "navigation", "aria-label" => "main navigation"}
      .container
        .navbar-brand
          %a.navbar-item(href=root_path)
            = image_tag 'logo.svg'
          .navbar-item
            %span.slogan.has-text-white.is-size-7
              Curated RPG resources
              %br
              that "WOW" your players
        .navbar-end
          .navbar-item
            %a.has-text-white.is-size-7.has-text-weight-bold(href="https://discordapp.com/invite/quv9gsM" target="_blank") Discord
          .navbar-item
            %a.has-text-white.is-size-7.has-text-weight-bold(href="https://twitter.com/rpg_inspire" target="_blank") Twitter
          .navbar-item
            %a.has-text-white.is-size-7.has-text-weight-bold(href="https://www.instagram.com/rpginspire/" target="_blank") Instagram
          .navbar-item
            .buttons
              %a.button.is-primary.is-wider.is-family-secondary(href="#{new_topic_path}" onclick="return clickNewPost();")
                New post
          - if user_signed_in?
            .navbar-item.has-dropdown.dropdown
              .navbar-link
                %a.has-text-white{"aria-controls" => "dropdown-menu", "aria-haspopup" => "true"}
                  %i.icon-cog.icon-2x{"aria-hidden" => "true"}
              .navbar-dropdown.is-black
                %a.navbar-item(href="#{edit_user_registration_path}")
                  Edit Profile
                %a.navbar-item(href= "#{destroy_user_session_path}")
                  Logout

    - unless notice.nil?
      .notification.is-primary= notice
    - unless alert.nil?
      .notification.is-warning= alert
    .section
      - unless user_signed_in? || controller_name == 'sessions'
        .modal.sign-in(id="signin-modal")
          .modal-background
          .modal-content
            .card.has-background-grey-lighter.column.is-8.is-offset-2
              .card-content
                = render 'devise/sessions/form'
          %button.modal-close.is-large{"aria-label" => "close"}
      = yield

    .modal#lazy-loaded-modal(data-is-lazy="true")
      .modal-background
      .modal-content.is-fullwidth
        .card.has-background-grey-lighter
          %button.modal-close.is-large{"aria-label" => "close"}
          .card-content#lazy-loaded-content
    = javascript_pack_tag 'application', async: true
    = yield :extra_js

